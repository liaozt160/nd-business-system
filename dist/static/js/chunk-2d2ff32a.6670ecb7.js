(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2ff32a"],{"333d":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[o("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,total:t.total,layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}})],1)},a=[];o("c5f6");Math.easeInOutQuad=function(t,e,o,i){return t/=i/2,t<1?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function r(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(t,e,o){var i=s(),a=t-i,l=20,d=0;e="undefined"===typeof e?500:e;var c=function t(){d+=l;var s=Math.easeInOutQuad(d,i,a,e);r(s),d<e?n(t):o&&"function"===typeof o&&o()};c()}var d={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},pageSize:{type:Number,default:1},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}}},methods:{handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},c=d,u=(o("f842"),o("2877")),p=Object(u["a"])(c,i,a,!1,null,"00be67d7",null);e["a"]=p.exports},"63d1":function(t,e,o){},8201:function(t,e,o){"use strict";var i=o("63d1"),a=o.n(i);a.a},bb14:function(t,e,o){},f08c:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pdfLoading,expression:"pdfLoading"}],staticClass:"app-container",staticStyle:{"z-index":"9999"}},[o("aside",[o("h3",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("route.orderManagement")))])]),t._v(" "),o("div",{staticClass:"filter-container"},[o("div",{staticClass:"filter-item el-select--medium"},[o("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-bottom":"0"},attrs:{size:"small",placeholder:t.$t("table.search"),clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.listQuery.q,callback:function(e){t.$set(t.listQuery,"q",e)},expression:"listQuery.q"}}),t._v(" "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"0"},attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n        "+t._s(t.$t("table.search"))+"\n      ")])],1)]),t._v(" "),o("div",{staticClass:"companyTable"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"buyer_name",align:"center",label:t.$t("buyers.Name"),"min-width":"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"order_no",align:"center",label:t.$t("order.orderNumber"),"min-width":"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"created_at",align:"center",label:t.$t("order.creationTime"),"min-width":"180"}}),t._v(" "),o("el-table-column",{attrs:{prop:"paid",align:"center",label:t.$t("order.orderType"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[3==e.row.paid?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.otherFees")))]):t._e(),t._v(" "),2==e.row.paid?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.investigationFee")))]):t._e(),t._v(" "),1==e.row.paid?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.informationFee")))]):t._e()]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"pay_amount",align:"center",label:t.$t("order.orderAmount")+"($)","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[o("span",[t._v(t._s(t.toThousands(i.pay_amount)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"status",align:"center",label:t.$t("order.auditStatus"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.audit_reason?o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.audit_reason,placement:"top"}},[3==e.row.status?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"danger"}},[t._v(" "+t._s(t.$t("order.auditFailed")))]):t._e()],1):t._e(),t._v(" "),3!=e.row.status||e.row.audit_reason?t._e():o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"danger"}},[t._v(" "+t._s(t.$t("order.auditFailed")))]),t._v(" "),2==e.row.status?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"success"}},[t._v(t._s(t.$t("order.Audit")))]):t._e(),t._v(" "),1==e.row.status?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.AuditInProgress")))]):t._e(),t._v(" "),0==e.row.status?o("el-tag",{staticStyle:{width:"120px"},attrs:{type:"info"}},[t._v(t._s(t.$t("order.notSubmitted"))+" ")]):t._e()]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",align:"center",label:t.$t("order.remarks"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.remark,placement:"top"}},[o("span",{staticStyle:{display:"inline-block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"120px"}},[t._v(t._s(e.row.remark))])])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"status",align:"center",label:t.$t("table.operate"),fixed:"right","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-dropdown",{attrs:{trigger:"click"}},[o("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v("\n              "+t._s(t.$t("table.moreOperations"))),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),1==t.role?o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.changeStatus(e,1)}}},[t._v(t._s(t.$t("order.submitOrder")))])]),t._v(" "),t.$route.query.role==t.role?o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.modifyOrder(e)}}},[t._v(t._s(t.$t("order.modifyOrder")))])]):t._e(),t._v(" "),t.$route.query.role==t.role?o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.handleDelete(e)}}},[t._v(t._s(t.$t("table.delete")))])]):t._e()],1):t._e(),t._v(" "),1==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.viewOrder(e)}}},[t._v(t._s(t.$t("order.viewOrder")))])]),t._v(" "),t.$route.query.role==t.role?o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.changeStatus(e,0)}}},[t._v(t._s(t.$t("order.cancelOrder")))])]):t._e(),t._v(" "),t.$route.query.role==t.role?o("el-dropdown-item",{staticClass:"menuItem",attrs:{disabled:0!=e.row.status}},[o("span",{on:{click:function(o){return o.stopPropagation(),t.modifyOrder(e)}}},[t._v(t._s(t.$t("order.modifyOrder")))])]):t._e(),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.audited(e,2)}}},[t._v(t._s(t.$t("order.Audit")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.audited(e,3)}}},[t._v(t._s(t.$t("order.reject")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.handleDelete(e)}}},[t._v(t._s(t.$t("table.delete")))])])],1):t._e(),t._v(" "),2==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.viewOrder(e)}}},[t._v(t._s(t.$t("order.viewOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.ExportPDF(e)}}},[t._v(t._s(t.$t("order.Print")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.handleDelete(e)}}},[t._v(t._s(t.$t("table.delete")))])])],1):t._e(),t._v(" "),3==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.viewOrder(e)}}},[t._v(t._s(t.$t("order.viewOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.handleDelete(e)}}},[t._v(t._s(t.$t("table.delete")))])])],1):t._e()]):t._e(),t._v(" "),2==t.role?o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.changeStatus(e,1)}}},[t._v(t._s(t.$t("order.submitOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.modifyOrder(e)}}},[t._v(t._s(t.$t("order.modifyOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.handleDelete(e)}}},[t._v(t._s(t.$t("table.delete")))])])],1):t._e(),t._v(" "),1==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.changeStatus(e,0)}}},[t._v(t._s(t.$t("order.cancelOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem",attrs:{disabled:0!=e.row.status}},[o("span",{on:{click:function(o){return o.stopPropagation(),t.modifyOrder(e)}}},[t._v(t._s(t.$t("order.modifyOrder")))])])],1):t._e(),t._v(" "),2==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.viewOrder(e)}}},[t._v(t._s(t.$t("order.viewOrder")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])]),t._v(" "),o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.ExportPDF(e)}}},[t._v(t._s(t.$t("order.Print")))])])],1):t._e(),t._v(" "),3==e.row.status?o("div",[o("el-dropdown-item",{staticClass:"menuItem"},[o("span",{on:{click:function(o){return o.stopPropagation(),t.payInformationOpen(e)}}},[t._v(t._s(t.$t("order.payInformation")))])])],1):t._e()]):t._e()],1)]}}])})],1),t._v(" "),o("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,pageSize:t.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},pagination:function(e){return t.getList(t.listQuery)}}})],1),t._v(" "),o("el-dialog",{staticStyle:{"padding-bottom":"50px"},attrs:{title:t.orderId?t.$t("order.modifyOrder"):t.$t("order.addOrder"),visible:t.dialogFormVisible,width:"800px","before-close":t.dialogClose,center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.assignedLoading,expression:"assignedLoading"}],ref:"dataForm",attrs:{model:t.orderEdit,rules:t.rules,"label-position":"right","label-width":"120px","label-lineHight":"30px"}},[o("div",[o("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("order.selectBusinessList")))]),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("el-transfer",{staticStyle:{"text-align":"left",display:"inline-block","margin-bottom":"30px"},attrs:{filterable:"",titles:[t.$t("allBusiness"),t.$t("selectedBusiness")],data:t.business},on:{"left-check-change":t.leftChoose},model:{value:t.orderEdit.business_ids,callback:function(e){t.$set(t.orderEdit,"business_ids",e)},expression:"orderEdit.business_ids"}})],1)]),t._v(" "),o("div",{staticClass:"formRow"},[o("el-form-item",{attrs:{label:t.$t("order.orderAmount"),prop:"pay_amount"}},[o("el-input",{staticClass:"filter-item",staticStyle:{width:"210px"},attrs:{placeholder:t.$t("order.orderAmount")},model:{value:t.orderEdit.pay_amount,callback:function(e){t.$set(t.orderEdit,"pay_amount",e)},expression:"orderEdit.pay_amount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:t.$t("order.orderType"),prop:"paid"}},[o("el-select",{staticClass:"filter-item",staticStyle:{width:"210px"},model:{value:t.orderEdit.paid,callback:function(e){t.$set(t.orderEdit,"paid",e)},expression:"orderEdit.paid"}},[o("el-option",{attrs:{label:t.$t("order.informationFee"),value:1}}),t._v(" "),o("el-option",{attrs:{label:t.$t("order.investigationFee"),value:2}}),t._v(" "),o("el-option",{attrs:{label:t.$t("order.otherFees"),value:3}})],1)],1)],1),t._v(" "),o("div",{staticClass:"formRow"},[o("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("order.remarks")}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:t.$t("order.remarks")},model:{value:t.orderEdit.remark,callback:function(e){t.$set(t.orderEdit,"remark",e)},expression:"orderEdit.remark"}})],1)],1)]),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),o("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.orderEditSave()}}},[t._v(t._s(t.$t("table.confirm")))])],1)],1),t._v(" "),o("el-dialog",{staticStyle:{"padding-bottom":"50px"},attrs:{title:t.$t("order.viewOrder"),visible:t.dialogviewOrder,width:"1000px",center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogviewOrder=e}}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.viewOrderLoading,expression:"viewOrderLoading"}],staticStyle:{"padding-bottom":"100px"}},[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:t.$t("buyers.Name")+"："}},[t.viewOrderData.buyer?o("span",[t._v(t._s(t.viewOrderData.buyer.buyer))]):t._e()]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("order.orderNumber")+"："}},[o("span",[t._v(t._s(t.viewOrderData.order_no))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("order.auditStatus")+"："}},[[3==t.viewOrderData.status?o("el-tag",{staticStyle:{"text-align":"center",width:"180px"},attrs:{type:"danger"}},[t._v(t._s(t.$t("order.auditFailed"))+"    ")]):t._e(),t._v(" "),2==t.viewOrderData.status?o("el-tag",{staticStyle:{"text-align":"center",width:"180px"},attrs:{type:"success"}},[t._v(t._s(t.$t("order.Audit"))+"          ")]):t._e(),t._v(" "),1==t.viewOrderData.status?o("el-tag",{staticStyle:{"text-align":"center",width:"180px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.AuditInProgress")))]):t._e(),t._v(" "),0==t.viewOrderData.status?o("el-tag",{staticStyle:{"text-align":"center",width:"180px"},attrs:{type:"info"}},[t._v(t._s(t.$t("order.notSubmitted"))+" ")]):t._e()]],2),t._v(" "),o("el-form-item",{attrs:{label:t.$t("order.Payment")+"："}},[[3==t.viewOrderData.paid?o("el-tag",{staticStyle:{"text-align":"center",width:"120px"},attrs:{type:"success"}},[t._v(t._s(t.$t("order.otherFees")))]):t._e(),t._v(" "),2==t.viewOrderData.paid?o("el-tag",{staticStyle:{"text-align":"center",width:"120px"},attrs:{type:"success"}},[t._v(t._s(t.$t("order.investigationFee")))]):t._e(),t._v(" "),1==t.viewOrderData.paid?o("el-tag",{staticStyle:{"text-align":"center",width:"120px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("order.informationFee")))]):t._e()]],2),t._v(" "),o("el-form-item",{attrs:{label:t.$t("order.remarks")+"："}},[o("span",[t._v(t._s(t.viewOrderData.remark))])])],1),t._v(" "),o("div",{staticStyle:{"font-weight":"bold",margin:"20px 0"}},[t._v(t._s(t.$t("order.BusinessInformationPurchased")))]),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.viewOrderData.details,border:"",stripe:""}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:"","label-width":"200px"}},[o("el-form-item",{attrs:{label:t.$t("employeeEdit.companyName")}},[o("span",[t._v(t._s(e.row.company))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.title")}},[o("span",[t._v(t._s(e.row.title))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Listing")}},[o("span",[t._v(t._s(e.row.listing))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Price")}},[o("span",[t._v("$ "+t._s(t.toThousands(e.row.price)))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Profitability")}},[o("span",[t._v(t._s(1==e.row.profitability?t.$t("yes"):t.$t("no")))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.RealEstate")}},[o("span",[t._v(t._s(1==e.row.real_estate?t.$t("yes"):t.$t("no")))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.BuildingSF")}},[o("span",[t._v(t._s(e.row.building_sf))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.EmployeeCount")}},[o("span",[t._v(t._s(0==e.row.employee_count?t.$t("NA"):e.row.employee_count))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.GrossIncome")}},[o("span",[t._v("\n                  $ "+t._s(t.toThousands(e.row.gross_income))+"\n                  / "+t._s(1==e.row.gross_income_unit?t.$t("week"):2==e.row.gross_income_unit?t.$t("Month"):3==e.row.gross_income_unit?t.$t("Quarter"):4==e.row.gross_income_unit?t.$t("Year"):"")+"\n                ")])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.EBITDA")}},[o("span",[t._v(t._s(e.row.ebitda))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.FFandE")}},[o("span",[t._v(t._s(e.row.ff_e))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Inventory")}},[o("span",[t._v(t._s(e.row.inventory))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.NetIncome")}},[o("span",[t._v("\n                  $ "+t._s(t.toThousands(e.row.net_income))+"\n                  / "+t._s(1==e.row.net_income_unit?t.$t("week"):2==e.row.net_income_unit?t.$t("Month"):3==e.row.net_income_unit?t.$t("Quarter"):4==e.row.net_income_unit?t.$t("Year"):"")+"\n                ")])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Lease")}},[o("span",[t._v("\n                  $ "+t._s(t.toThousands(e.row.lease))+"\n                  / "+t._s(1==e.row.lease_unit?t.$t("week"):2==e.row.lease_unit?t.$t("Month"):3==e.row.lease_unit?t.$t("Quarter"):4==e.row.lease_unit?t.$t("Year"):"")+"\n                ")])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.LeaseTerm")}},[o("span",[t._v(t._s(e.row.lease_term))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.Est")}},[o("span",[t._v(t._s(e.row.value_of_real_estate))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit. ServiceFee")}},[o("span",[t._v(t._s(e.row.commission))])]),t._v(" "),o("el-form-item",{attrs:{label:t.$t("employeeEdit.BuyerFinancing")}},[o("span",[t._v(t._s(e.row.buyer_financing))])])],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"company",align:"center",label:t.$t("employeeEdit.companyName"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.company,placement:"top-start"}},[o("span",{staticStyle:{display:"inline-block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"200px"}},[t._v(t._s(e.row.company))])])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"title",align:"center",label:t.$t("employeeEdit.title"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.title,placement:"top-start"}},[o("span",{staticStyle:{display:"inline-block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"200px"}},[t._v(t._s(e.row.title))])])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"price",align:"center",label:t.$t("table.price")+"($)","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[o("span",[t._v(t._s(t.toThousands(i.price)))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"listing",align:"center",label:t.$t("employeeEdit.Listing"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[o("span",[t._v(t._s(i.listing))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"state",align:"center",label:t.$t("table.status"),"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[1==i.status?o("el-tag",{attrs:{type:"primary"}},[t._v(t._s(t.$t("table.forSale")))]):t._e(),t._v(" "),2==i.status?o("el-tag",{attrs:{type:"info"}},[t._v(t._s(t.$t("table.soldOut")))]):t._e(),t._v(" "),3==i.status?o("el-tag",{attrs:{type:"info"}},[t._v(t._s(t.$t("employeeEdit.noVerified")))]):t._e()]}}])})],1)],1)]),t._v(" "),o("el-dialog",{staticStyle:{"padding-bottom":"50px"},attrs:{title:t.$t("order.payInformation"),visible:t.dialogViewPayInformation,width:"800px",center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogViewPayInformation=e}}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.payInformationLoading,expression:"payInformationLoading"}],staticStyle:{"padding-bottom":"50px"}},[o("div",{staticStyle:{"font-weight":"bold",margin:"20px 0"}},[t._v("\n        "+t._s(t.$t("order.FileRecords"))+"\n        "),o("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:t.addFileRecords}},[t._v(t._s(t.$t("order.addFile"))+"\n        ")])],1),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.FileRecordsData,border:"",stripe:""}},[o("el-table-column",{attrs:{prop:"company",align:"center",label:t.$t("order.File"),"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{staticStyle:{color:"#409eff"}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"remark",align:"center",label:t.$t("order.remarks"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.remark,placement:"top-start"}},[o("span",{staticStyle:{display:"inline-block",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(i.remark))])])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"listing",align:"center",label:t.$t("order.time"),"min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[o("span",[t._v(t._s(i.created_at))])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"status",align:"center",label:t.$t("table.operate"),"min-width":"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"medium",type:"primary",title:t.$t("table.download"),icon:"el-icon-download",circle:"",plain:""},on:{click:function(o){return t.viewFile(e)}}}),t._v(" "),o("el-button",{attrs:{size:"medium",type:"danger",title:t.$t("table.delete"),icon:"el-icon-delete",circle:"",plain:""},on:{click:function(o){return t.FileRecordsDel(e)}}})]}}])})],1)],1)]),t._v(" "),o("el-dialog",{staticStyle:{"padding-bottom":"50px"},attrs:{title:t.$t("order.addFile"),visible:t.dialogAddFileRecords,width:"600px",center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogAddFileRecords=e}}},[o("div",{staticStyle:{"padding-bottom":"30px"}},[o("div",{staticClass:"updateFile"},[o("input",{staticClass:"fileUp",attrs:{type:"file",accept:".xls,.doc,.ppt,.txt,.pdf,image/*"},on:{change:t.update}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.fileName,expression:"fileName"}],staticClass:"fileUpinput",attrs:{readonly:"readonly",type:"text",placeholder:t.$t("order.selectFile")},domProps:{value:t.fileName},on:{input:function(e){e.target.composing||(t.fileName=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"remarksBox"},[o("span",{staticStyle:{"line-height":"40px"}},[t._v(t._s(t.$t("order.remarks")))]),t._v(" "),o("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:t.$t("order.remarks")},model:{value:t.FileRecordsRemark,callback:function(e){t.FileRecordsRemark=e},expression:"FileRecordsRemark"}})],1)]),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogAddFileRecords=!1}}},[t._v(t._s(t.$t("table.cancel")))]),t._v(" "),o("el-button",{attrs:{size:"small",type:"primary",disabled:t.AddFileRecordsClick},on:{click:function(e){return t.addFileRecordsSave()}}},[t._v(t._s(t.$t("order.addFile")))])],1)])],1)},a=[],n=(o("7f7f"),o("bc3a"),o("4360")),r=o("333d"),s=o("f8b7"),l={name:"orderManagement",components:{Pagination:r["a"]},data:function(){return{pdfLoading:!1,params:"",role:"",business:[],business_ids:[],assignedLoading:!1,dialogviewOrder:!1,viewOrderLoading:!1,viewOrderData:"",dialogFormVisible:!1,AssignVisible:!1,orderId:"",orderEdit:{buyer_id:"",paid:1,pay_amount:"",status:1,remark:"",business_ids:[]},order_id:"",payInformationLoading:!1,dialogViewPayInformation:!1,dialogAddPayRecord:!1,dialogAddFileRecords:!1,AddFileRecordsClick:!1,selectPayContent:1,FileRecordsData:[],fileName:"",FileRecordsRemark:"",listQuery:{page:1,buyer_id:"",funds_available_from:"",funds_available_to:"",funds_verified:"0",q:""},listLoading:!1,total:1,pageSize:15,tableData:[],rules:{pay_amount:[{required:!0,message:this.$t("empty"),trigger:"blur"}],paid:[{required:!0,message:this.$t("empty"),trigger:"change"}]}}},mounted:function(){this.params=new FormData,this.orderEdit.buyer_id=this.$route.query.id,this.listQuery.buyer_id=this.$route.query.id,this.getList(),this.getAllBusiness(),this.role=n["a"].getters&&n["a"].getters.role},methods:{ExportPDF:function(t){var e=this;e.pdfLoading=!0,Object(s["i"])({order_id:t.row.id}).then(function(t){console.log("showDetailPdfApi",t);var o=t;new Blob([o]);-1!==window.location.origin.indexOf("dev.newdreamservices.com")||window.location.origin.indexOf("business.newdreamservices.com"),window.open(t.data.url,"newwindow"," top=100, left=380, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no"),e.pdfLoading=!1}).catch(function(t){e.pdfLoading=!1,console.log(t)})},payInformationOpen:function(t){this.order_id=t.row.id,this.dialogViewPayInformation=!0,this.getPayInformation(t.row.id)},getPayInformation:function(t){var e=this;this.payInformationLoading=!0,Object(s["n"])({id:t}).then(function(t){e.payInformationLoading=!1,console.log("viewPaymentInformationApi",t),e.FileRecordsData=t.data.files}).catch(function(t){e.payInformationLoading=!1,console.log(t)})},addFileRecords:function(){this.dialogAddFileRecords=!0,this.fileName="",this.FileRecordsRemark="",this.params=new FormData},update:function(t){var e=this,o=t.target.files[0];if(o.size/1e3/1e3>10)return e.$notify({showClose:!0,message:e.$t("order.ExcessiveFileSize"),type:"warning"}),!1;e.params.append("file",o,o.name),e.fileName=o.name,t.target.value=""},addFileRecordsSave:function(){var t=this;if(!t.fileName)return t.$notify({showClose:!0,message:t.$t("order.pleaseSelectFile"),type:"warning"}),!1;t.params.append("order_id",t.order_id),t.params.append("remark",t.FileRecordsRemark),t.params.append("file_name",t.fileName),t.AddFileRecordsClick=!0,Object(s["h"])(t.params).then(function(e){t.dialogAddFileRecords=!1,t.AddFileRecordsClick=!1,t.getPayInformation(t.order_id),console.log("orderUploadFileApi",e),t.$notify({showClose:!0,message:t.$t("Successful"),type:"success"}),t.params=""}).catch(function(e){t.AddFileRecordsClick=!1,t.dialogAddFileRecords=!1,t.params="",console.log(e)})},viewFile:function(t){var e=this;e.payInformationLoading=!0,Object(s["m"])({file_id:t.row.file_id}).then(function(t){console.log("viewFileApi",t),window.open(t.data.url,"newwindow"," top=100, left=380, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no"),e.payInformationLoading=!1}).catch(function(t){e.payInformationLoading=!1,console.log(t)})},FileRecordsDel:function(t){var e=this;e.$confirm(e.$t("delMsg"),e.$t("Confirmation"),{distinguishCancelAndClose:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel")}).then(function(){Object(s["d"])({id:t.row.id}).then(function(t){console.log("delOrderFileApi",t),e.getPayInformation(e.order_id),e.$notify({showClose:!0,message:e.$t("deleted"),type:"success"})}).catch(function(t){console.log(t)})}).catch(function(t){})},leftChoose:function(t){var e=10-this.business_ids.length;if(t.length>e)return t.length>=1&&(this.$notify({showClose:!0,message:this.$t("onlyChoose10"),type:"warning"}),t.pop()),!1},getAllBusiness:function(){var t=this;Object(s["f"])().then(function(e){console.log("getAllBusinessApi",e),t.business=e.data}).catch(function(t){console.log(t)})},dialogClose:function(t){this.orderEdit={buyer_id:this.$route.query.id,paid:1,pay_amount:"",status:1,remark:"",business_ids:[]},t()},orderEditSave:function(){var t=this;this.$refs["dataForm"].validate(function(e){if(e){var o=Object.assign({},t.orderEdit);if(o.business_ids=JSON.stringify(o.business_ids),t.orderId)o.order_id=t.orderId,Object(s["k"])(o).then(function(e){console.log("updateOrderApi",e),t.dialogFormVisible=!1,t.getList({buyer_id:t.$route.query.id}),t.$notify({showClose:!0,message:t.$t("Successful"),type:"success"})}).catch(function(t){console.log(t)});else{var i=Object.assign({},t.orderEdit);i.business_ids=JSON.stringify(i.business_ids),delete i.order_id,Object(s["a"])(i).then(function(e){console.log("addOrderApi",e),t.dialogFormVisible=!1,t.getList({buyer_id:t.$route.query.id}),t.$notify({showClose:!0,message:t.$t("Successful"),type:"success"})}).catch(function(t){console.log(t)})}}})},handleFilter:function(){this.listQuery.page=1,this.getList(this.listQuery)},handleCreate:function(){this.dialogFormVisible=!0,this.orderId="",this.orderEdit={buyer_id:this.$route.query.id,paid:1,pay_amount:"",status:1,remark:"",business_ids:[]}},modifyOrder:function(t){var e=this;this.dialogFormVisible=!0,this.orderId=t.row.id,e.assignedLoading=!0,Object(s["j"])({id:t.row.id}).then(function(t){console.log("showOrderApi",t),e.assignedLoading=!1,e.orderEdit.id=t.data.id,e.orderEdit.paid=t.data.paid,e.orderEdit.pay_amount=t.data.pay_amount,e.orderEdit.remark=t.data.remark,e.orderEdit.business_ids=t.data.order_detail}).catch(function(t){console.log(t),e.assignedLoading=!1})},viewOrder:function(t){var e=this;this.dialogviewOrder=!0,e.viewOrderLoading=!0,Object(s["l"])({id:t.row.id}).then(function(t){console.log("viewAuditOrderApi",t),e.viewOrderData=t.data,e.viewOrderLoading=!1}).catch(function(t){e.viewOrderLoading=!1,console.log(t)})},audited:function(t,e){var o=this,i={id:t.row.id,status:e};2==e?o.$confirm(o.$t("auditedOrderMsg"),o.$t("Confirmation"),{distinguishCancelAndClose:!0,confirmButtonText:o.$t("confirm"),cancelButtonText:o.$t("cancel")}).then(function(){o.listLoading=!0,Object(s["b"])(i).then(function(t){console.log("changeAuditApi",t),o.listLoading=!1,o.getList({buyer_id:o.$route.query.id}),o.$notify({showClose:!0,message:o.$t("Successful"),type:"success"})}).catch(function(t){o.listLoading=!1,console.log(t)})}).catch(function(t){}):3==e&&this.$prompt(o.$t("rejectOrderMsg"),o.$t("Confirmation"),{distinguishCancelAndClose:!0,confirmButtonText:o.$t("confirm"),cancelButtonText:o.$t("cancel")}).then(function(t){var e=t.value;o.listLoading=!0,i.reason=e,Object(s["b"])(i).then(function(t){console.log("changeAuditApi",t),o.listLoading=!1,o.getList({buyer_id:o.$route.query.id}),o.$notify({showClose:!0,message:o.$t("Successful"),type:"success"})}).catch(function(t){o.listLoading=!1,console.log(t)})}).catch(function(){})},getList:function(t){var e=this;this.listLoading=!0,Object(s["g"])(t).then(function(t){console.log("getOrderList",t),e.listLoading=!1,e.total=t.data.total,e.tableData=t.data.data}).catch(function(t){console.log(t),e.listLoading=!1})},changeStatus:function(t,e){var o=this,i={id:t.row.id,status:e};o.$confirm(1==e?o.$t("submitOrderMsg"):0==e?o.$t("cancelOrderMsg"):"",o.$t("Confirmation"),{distinguishCancelAndClose:!0,confirmButtonText:o.$t("confirm"),cancelButtonText:o.$t("cancel")}).then(function(){o.listLoading=!0,Object(s["c"])(i).then(function(t){console.log("changeStatus",t),o.listLoading=!1,o.getList({buyer_id:o.$route.query.id}),o.$notify({showClose:!0,message:o.$t("Successful"),type:"success"})}).catch(function(t){o.listLoading=!1,console.log(t)})}).catch(function(t){})},handleDelete:function(t){var e=this;e.$confirm(e.$t("delMsg"),e.$t("Confirmation"),{distinguishCancelAndClose:!0,confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel")}).then(function(){Object(s["e"])({id:t.row.id}).then(function(t){console.log("delBuyer",t),e.listQuery.page=1,e.getList({buyer_id:e.$route.query.id}),e.$notify({showClose:!0,message:e.$t("deleted"),type:"success"})}).catch(function(t){console.log(t)})}).catch(function(t){})}}},d=l,c=(o("8201"),o("2877")),u=Object(c["a"])(d,i,a,!1,null,"f80b1952",null);e["default"]=u.exports},f842:function(t,e,o){"use strict";var i=o("bb14"),a=o.n(i);a.a},f8b7:function(t,e,o){"use strict";o.d(e,"g",function(){return a}),o.d(e,"a",function(){return n}),o.d(e,"k",function(){return r}),o.d(e,"e",function(){return s}),o.d(e,"j",function(){return l}),o.d(e,"f",function(){return d}),o.d(e,"c",function(){return c}),o.d(e,"b",function(){return u}),o.d(e,"l",function(){return p}),o.d(e,"n",function(){return m}),o.d(e,"h",function(){return f}),o.d(e,"m",function(){return _}),o.d(e,"d",function(){return v}),o.d(e,"i",function(){return g});var i=o("b775");function a(t){return Object(i["a"])({url:"/api/order/list",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/api/order/add",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/api/order/update",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/api/order/del",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/api/order/show",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/api/business/query",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/api/order/status",method:"post",data:t})}function u(t){return Object(i["a"])({url:"/api/order/audit",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/api/order/view",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/api/order/payment/show",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/api/order/payment/file/upload",method:"post",data:t})}function _(t){return Object(i["a"])({url:"/api/order/payment/file/view",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/api/order/payment/file/del",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/api/order/detail/pdf",method:"post",data:t})}}}]);